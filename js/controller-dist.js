"use strict";var reactiveController=angular.module("reactiveController",[]),modalInstance;reactiveController.controller("GlobalCtrl",["$scope","$route","$location",function(e,a,t){e.gameParent=new Game,e.newGame=function(){e.gameParent.newGame(),t.url("/game/new"),e.$broadcast("updateState","")}}]),reactiveController.controller("Game",["$scope","$routeParams","$location",function(e,a){function t(){if(void 0!=e.game.getGameData()){e.uiState.multipolar=e.game.getGameData().bonus.multipolar.isActive?"active shake shake-constant":"shake",e.uiState.bomb=e.game.getGameData().bonus.bomb.isActive?"active shake shake-constant":"shake";var a=e.game.getGameData().level.totalThisLevel,t=e.game.getGameData().level.toGo,o=e.uiState.barSize,n=e.uiState.barSizeAnimate;if(0==a)o=0;else{n=t==a?"":"anim";var r=a-t;o=Math.round((r*a+r)/a/a*100),99==o?o="100%":o+="%"}e.uiState.barSizeAnimate=n,e.uiState.barSize=o,console.log(o+" "+n+" "+a+" "+t)}}e.command=a.command,e.game=e.$parent.gameParent,e.uiState={multipolar:"",bomb:"",barSize:"",barSizeAnimate:"anim"},e.currentLevel=0,e.score=0,"continue"==e.command&&(e.game.continueGame(),t()),"new"==e.command&&void 0==e.game.getGameData()&&(e.game.newGame(),t()),t(),e.multipolar=function(){e.game.bonus("multipolar"),t()},e.undo=function(){e.game.undo(),t()},e.bomb=function(){e.game.bonus("bomb"),t()},e.turn=function(a,o){e.game.turn(a,o),t()},e.$on("updateState",function(){t()})}]),reactiveController.controller("About",["$scope",function(){}]),reactiveController.controller("HighScore",["$scope",function(){}]),reactiveController.controller("Home",["$scope",function(){}]),reactiveController.controller("HowTo",["$scope","$http",function(){}]);
